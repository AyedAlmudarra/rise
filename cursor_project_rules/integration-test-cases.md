# Integration Test Cases

## Test Case Report: INT-001

| Section             | Detail                                                                                                                                                                                                                                                             |
| :------------------ | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Test Case Title** | Startup Login and Dashboard Data Validation                                                                                                                                                                                                                          |
| **Test Case ID**    | INT-001                                                                                                                                                                                                                                                            |
| **Related Tasks**   | Task 2 (Login), Task 5 (Dashboard Creation), Task 6 (Startup Data Fetching), Task 9 (Supabase Connection)                                                                                                                                                              |
| **Prerequisites**   | 1. A valid, registered startup user account exists in the Supabase `auth.users` table. <br> 2. A corresponding startup profile exists in the Supabase `startups` table linked via `user_id`. <br> 3. The application is running and accessible.                       |
| **Description**     | This test case verifies the integration between the login component (`AuthLogin.tsx`), authentication context (`AuthContext`), routing (`Router.tsx`, `ProtectedRoute.tsx`), and the startup dashboard (`StartupDashboard.tsx`) for a successful login and data display. |
| **Test Steps**      | 1. Navigate to the application's login page (`/auth/login`). <br> 2. Enter the credentials associated with the prerequisite startup user account into the login form. <br> 3. Submit the login form. <br> 4. Verify redirection to the Startup Dashboard (`/startup/dashboard`). <br> 5. Verify that the user identifier (e.g., email) displayed on the dashboard matches the logged-in user. <br> 6. Verify that the "Company Overview" section displays data consistent with the startup's profile stored in the `startups` table (e.g., Name, Industry, Location). |
| **Test Script**     | **Manual Execution:** <br> - Ensure all prerequisites are met. <br> - Using a web browser, perform the actions described in Test Steps 1-3. <br> - Observe the application's behavior and resulting dashboard display, performing the checks outlined in Test Steps 4-6. |
| **Expected Result** | Upon successful authentication, the user is redirected to `/startup/dashboard`. The dashboard correctly displays the identifier of the logged-in startup user and accurately reflects the associated company profile data fetched from the `startups` table within the designated "Company Overview" component. No application errors occur during this process. |

---

## Test Case Report: INT-002

| Section             | Detail                                                                                                                                                                                                                                                                                                                          |
| :------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Test Case Title** | Investor Registration, Data Persistence, and Dashboard Validation                                                                                                                                                                                                                                                                 |
| **Test Case ID**    | INT-002                                                                                                                                                                                                                                                                                                                         |
| **Related Tasks**   | Task 2 (Auth), Task 3 (Investor Form), Task 7 (Investor Dashboard), Task 9 (Supabase Connection)                                                                                                                                                                                                                                    |
| **Prerequisites**   | 1. The application is running and accessible. <br> 2. The test user possesses a unique email address not currently registered in the system.                                                                                                                                                                                     |
| **Description**     | This test case verifies the complete investor registration flow, including user creation (`auth.users`), profile data insertion (`investors` table), redirection, and the display of submitted data on the Investor Dashboard (`InvestorDashboard.tsx`).                                                                         |
| **Test Steps**      | 1. Navigate to the Investor Registration page (`/auth/register-investor`). <br> 2. Complete all required fields in the `AuthRegisterInvestor.tsx` form using valid, unique test data (record the data entered for verification). <br> 3. Submit the registration form. <br> 4. Verify successful redirection to the Investor Dashboard (`/investor/dashboard`). <br> 5. Verify that the user identifier (e.g., email) displayed matches the email used for registration. <br> 6. Verify that the "Investor Profile Summary" section displays data consistent with the information submitted during registration (Step 2). <br> 7. Verify that a new user record exists in the `auth.users` table with the registration email. <br> 8. Verify that a new profile record exists in the `investors` table containing the submitted data and linked to the new user via `user_id`. |
| **Test Script**     | **Manual Execution:** <br> - Ensure prerequisites are met. <br> - Using a web browser, perform actions described in Test Steps 1-3. <br> - Observe application behavior and perform visual verification checks outlined in Steps 4-6. <br> - Using appropriate tools (e.g., Supabase Studio), perform database verification checks outlined in Steps 7-8. |
| **Expected Result** | Upon successful submission, a new user is created in Supabase Auth, the investor profile is saved to the `investors` table, and the user is redirected to `/investor/dashboard`. The dashboard accurately displays the newly registered user's identifier and profile information matching the submitted data. No application errors occur. |

---

## Test Case Report: INT-003

| Section             | Detail                                                                                                                                                                                                                                                                                                                                                         |
| :------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Test Case Title** | AI Analysis Request, Realtime Status Update, and Result Display                                                                                                                                                                                                                                                                                                  |
| **Test Case ID**    | INT-003                                                                                                                                                                                                                                                                                                                                                        |
| **Related Tasks**   | Task 10 (Edge Function), Task 11 (Frontend Display/Realtime), Task 12 (Refined Display)                                                                                                                                                                                                                                                                          |
| **Prerequisites**   | 1. A valid, registered startup user account exists with a corresponding profile in the `startups` table. <br> 2. The startup user is logged into the application. <br> 3. The `request-analysis` Supabase Edge Function is deployed and operational. <br> 4. Supabase Realtime is enabled for the `startups` table. <br> 5. The Google AI API integration is configured and working. |
| **Description**     | This test case verifies the end-to-end flow for requesting an AI analysis from the Startup Dashboard. It tests the invocation of the Edge Function, Realtime updates reflecting the processing status (`processing`, `completed`/`error`), and the subsequent display of the generated AI analysis content within the designated dashboard components.                |
| **Test Steps**      | 1. Navigate to the Startup Dashboard (`/startup/dashboard`). <br> 2. Locate the AI analysis section (`AIInsightsSection`). Record the initial analysis status displayed. <br> 3. Initiate the AI analysis request (e.g., click the "Refresh Analysis" button). <br> 4. Observe the analysis status UI element update to 'processing' via the Realtime subscription. <br> 5. Wait for the analysis process to complete (allow sufficient time for Edge Function execution and AI API response). <br> 6. Observe the analysis status UI element update to 'completed' or 'error' via Realtime. <br> 7. If the status is 'completed', verify that the relevant components (`AIInsightsSection`, `FundingReadinessCard`, `KeyMetricsSection`) display content derived from the AI analysis. <br> 8. Verify that the `analysis_status`, `analysis_timestamp`, and `ai_analysis` fields in the `startups` table for the corresponding startup are updated appropriately, reflecting the outcome observed in Step 6/7. |
| **Test Script**     | **Manual Execution:** <br> - Ensure all prerequisites are met. <br> - Log in as the prerequisite startup user. <br> - Using a web browser, perform actions described in Test Steps 1-3. <br> - Monitor the UI for status changes as described in Steps 4 & 6. <br> - Perform visual verification of displayed analysis content (Step 7). <br> - Using appropriate tools (e.g., Supabase Studio), perform database verification checks outlined in Step 8. |
| **Expected Result** | Initiating the analysis request triggers the `request-analysis` Edge Function. The dashboard UI reflects the 'processing' status via Realtime, followed by 'completed' (or 'error'). If successful, the AI-generated analysis content (summary, SWOT, KPIs, funding score, etc.) is correctly parsed and displayed in the designated sections, and the `startups` table record is updated with the results, status, and timestamp. No application errors (excluding potential 'error' status from the analysis itself) occur during the UI interactions. |

--- 







